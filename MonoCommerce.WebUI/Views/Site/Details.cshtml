@model MonoCommerce.WebUI.Models.SiteViewModel
@{
    ViewData["Title"] = Model.Name;
}

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@Model.Name | @Model.ProductName</title>

    @* CSS dosyaları *@
    <link rel="stylesheet" href="~/css/style.css" />
    <link rel="stylesheet" href="~/css/mobil-style.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">

    @* Pixel & Tracking *@
    @if (!string.IsNullOrEmpty(Model.PixelCode))
    {
        @Html.Raw(Model.PixelCode)
    }
    @if (!string.IsNullOrEmpty(Model.PixelSpecialCode))
    {
        @Html.Raw(Model.PixelSpecialCode)
    }

    <style>
        .contact-form {
            background-color: #f8f9fa;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            max-width: 700px;
            margin: 50px auto;
        }
        .contact-form h3 {
            margin-bottom: 20px;
            font-weight: 600;
            text-align: center;
        }
        .contact-form .form-group {
            margin-bottom: 15px;
        }
        .contact-form .btn-primary {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border-radius: 6px;
        }
    </style>
</head>
<body>
    <div class="content" style="max-width:1000px; margin:auto;">

        @* Site başlığı *@
        <h1 style="text-align:center; margin-bottom:20px;">@Model.Name</h1>

        @* Site görseli *@
        @if (!string.IsNullOrEmpty(Model.ImageUrl))
        {
            <div style="text-align:center; margin-bottom:20px;">
                <img src="@Model.ImageUrl" alt="@Model.Name" style="width:100%; max-width:600px; border-radius:8px;" />
            </div>
        }

        @* Site açıklaması *@
        @if (!string.IsNullOrEmpty(Model.Description))
        {
            <div class="site-description" style="margin-bottom:30px; text-align:center;">
                <p>@Model.Description</p>
            </div>
        }

        @* HTML içerik *@
        @if (!string.IsNullOrEmpty(Model.HtmlContent))
        {
            @Html.Raw(Model.HtmlContent)
        }

        @* Ödeme ve fiyat bilgileri *@
        <div class="site-prices" style="margin:30px 0; text-align:center;">
            <p style="font-size:18px; font-weight:bold;">Fiyat: @Model.Prices ?? "Bilgi yok"</p>
            <p>Ödeme Yöntemi: @Model.PaymentMethod</p>
            <p>Para Birimi: @Model.Currency</p>
        </div>

        @* WhatsApp iletişim bilgileri *@
        @if (Model.WhatsappEnabled)
        {
            <div class="whatsapp-info" style="text-align:center; margin-bottom:30px;">
                <p>Whatsapp: @Model.WhatsappPhone</p>
                <p>Whatsapp Kullanım Zamanı: @Model.WhatsappAvailableTime</p>
            </div>
        }

        @* -------------------- İLETİŞİM FORMU -------------------- *@
        <div class="contact-form">
            <h3>İletişim / Sipariş Formu</h3>
            <form asp-action="SubmitForm" asp-controller="Site" method="post" id="contactForm">
                <input type="hidden" name="SiteId" value="@Model.Id" />

                <div class="form-group">
                    <label for="Name">Adınız Soyadınız</label>
                    <input type="text" id="Name" name="Name" class="form-control" placeholder="Adınız Soyadınız" required />
                </div>

                <div class="form-group">
                    <label for="Phone">Telefon Numaranız</label>
                    <input type="tel" id="Phone" name="Phone" class="form-control" placeholder="5XX XXX XX XX" required minlength="10" maxlength="11" />
                </div>

                <div class="form-group">
                    <label for="Address">Teslimat Adresi</label>
                    <textarea id="Address" name="Address" class="form-control" rows="3" placeholder="Adresinizi girin" required></textarea>
                </div>

                <div class="form-group">
                    <label for="City">Şehir</label>
                    <select id="City" name="City" class="form-control" required>
                        <option value="">Şehir Seçiniz</option>
                        <option>İstanbul</option>
                        <option>Ankara</option>
                        <option>İzmir</option>
                        @* Diğer iller buraya eklenebilir *@
                    </select>
                </div>

                <div class="form-group">
                    <label for="District">İlçe</label>
                    <select id="District" name="District" class="form-control" required>
                        <option value="">İlçe Seçiniz</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Adet</label>
                    <input type="number" name="Quantity" min="1" value="1" class="form-control" />
                </div>

                <div class="form-group">
                    <label>Ödeme Yöntemi</label>
                    <select name="PaymentMethod" class="form-control">
                        <option>Kapıda Nakit</option>
                        <option>Kapıda Kredi Kartı</option>
                    </select>
                </div>

                <div class="form-group form-check">
                    <input type="checkbox" name="PolicyAccepted" class="form-check-input" required />
                    <label class="form-check-label">Mesafeli Satış Sözleşmesini okudum ve kabul ediyorum.</label>
                </div>

                <button type="submit" class="btn btn-primary">Siparişi Gönder</button>
            </form>
        </div>
        @* -------------------- FORM SONU -------------------- *@
    </div>

    @* JS dosyaları *@
    <script src="~/javascript/jquery.min.js"></script>
    <script src="~/javascript/jquery.mobile-1.4.2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

    <script>
        $(document).ready(function () {
            // City -> District bağlı dropdown (örnek)
            $('#City').change(function () {
                var city = $(this).val();
                // AJAX ile ilçeleri doldur
            });
        });
    </script>
</body>
</html>

@* @model MonoCommerce.WebUI.Models.SiteViewModel

@{
    ViewData["Title"] = "Site Detayı";
}

<div class="container mt-4">
    <h2>Site Detayı</h2>
    <p class="text-muted">Site bilgilerini aşağıdan görebilirsiniz.</p>

    <div class="card mb-3">
        <div class="card-header">
            @Model.Name (@Model.Url)
        </div>
        <div class="card-body">
            <dl class="row">

                <dt class="col-sm-3">ID</dt>
                <dd class="col-sm-9">@Model.Id</dd>

                <dt class="col-sm-3">Site Adı</dt>
                <dd class="col-sm-9">@Model.Name</dd>

                <dt class="col-sm-3">Site URL</dt>
                <dd class="col-sm-9">@Model.Url</dd>

                <dt class="col-sm-3">Açıklama</dt>
                <dd class="col-sm-9">@Model.Description</dd>

                <dt class="col-sm-3">Ürün</dt>
                <dd class="col-sm-9">@Model.ProductName</dd>

                <dt class="col-sm-3">Durum</dt>
                <dd class="col-sm-9">@((Model.IsActive) ? "Aktif" : "Pasif")</dd>

                <dt class="col-sm-3">Resim URL</dt>
                <dd class="col-sm-9">
                    @if(!string.IsNullOrEmpty(Model.ImageUrl))
                    {
                        <img src="@Model.ImageUrl" alt="@Model.Name" class="img-fluid" style="max-height:200px;" />
                    }
                    else
                    {
                        <span>Resim yok</span>
                    }
                </dd>

                <dt class="col-sm-3">Fiyatlar</dt>
                <dd class="col-sm-9">@Model.Prices ?? "-"</dd>

                <dt class="col-sm-3">Ödeme Yöntemi</dt>
                <dd class="col-sm-9">@Model.PaymentMethod (@Model.Currency)</dd>

                <dt class="col-sm-3">Whatsapp Aktif</dt>
                <dd class="col-sm-9">@((Model.WhatsappEnabled) ? "Evet" : "Hayır")</dd>

                <dt class="col-sm-3">Whatsapp Telefon</dt>
                <dd class="col-sm-9">@Model.WhatsappPhone ?? "-"</dd>

                <dt class="col-sm-3">HTML İçerik</dt>
                <dd class="col-sm-9">@Html.Raw(Model.HtmlContent ?? "-")</dd>

                <dt class="col-sm-3">Form HTML</dt>
                <dd class="col-sm-9">@Html.Raw(Model.FormHtml ?? "-")</dd>

                <dt class="col-sm-3">Pixel Kodları</dt>
                <dd class="col-sm-9">
                    <p>Pixel: @Model.PixelCode ?? "-"</p>
                    <p>Özel Pixel: @Model.PixelSpecialCode ?? "-"</p>
                    <p>Pixel ID'leri: @Model.PixelIds ?? "-"</p>
                    <p>Counter: @Model.CounterCode ?? "-"</p>
                </dd>
            </dl>
        </div>
    </div>

    <div class="d-flex gap-2">
        <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-outline-secondary">Düzenle</a>

        <form asp-action="Delete" asp-route-id="@Model.Id" method="post" onsubmit="return confirm('Bu siteyi silmek istediğinize emin misiniz?');">
            <button type="submit" class="btn btn-outline-danger">Sil</button>
        </form>
    </div>
</div> *@